

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pygeoc.raster module &mdash; PyGeoC 0.2.0 文档</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="../genindex.html"/>
        <link rel="search" title="搜索" href="../search.html"/>
    <link rel="top" title="PyGeoC 0.2.0 文档" href="../index.html"/>
        <link rel="up" title="API 参考" href="api_reference.html"/>
        <link rel="next" title="pygeoc.hydro module" href="pygeoc.hydro.html"/>
        <link rel="prev" title="pygeoc.utils module" href="pygeoc.utils.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PyGeoC
          

          
          </a>

          
            
            
              <div class="version">
                0.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">快速开始</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="api_reference.html">API 参考</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="api_reference.html#id1">子模块</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pygeoc.utils.html">pygeoc.utils module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">pygeoc.raster module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pygeoc.hydro.html">pygeoc.hydro module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pygeoc.TauDEM.html">pygeoc.TauDEM module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pygeoc.postTauDEM.html">pygeoc.postTauDEM module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pygeoc.vector.html">pygeoc.vector module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api_index.html">API 索引</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyGeoC</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="api_reference.html">API 参考</a> &raquo;</li>
        
      <li>pygeoc.raster module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/pygeoc.raster.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pygeoc.raster">
<span id="pygeoc-raster-module"></span><h1>pygeoc.raster module<a class="headerlink" href="#module-pygeoc.raster" title="永久链接至标题">¶</a></h1>
<p>Raster Utility Class. 用于创建栅格数据对象并进行简单操作，如另存为ASC格式栅格、栅格重分类等。</p>
<p>author: Liangjun Zhu</p>
<p>changlog: 12-04-12 jz - origin version.</p>
<blockquote>
<div><p>16-07-01 lj - reorganized for pygeoc.</p>
<p>17-06-25 lj - check by pylint and reformat by Google style.</p>
<p>17-07-20 lj - add GDALDataType dict, and WhiteBox GAT D8 code.</p>
<p>17-11-21 yw - add raster_binarization, raster_erosion,
raster_dilation, openning, closing functions.</p>
</div></blockquote>
<dl class="data">
<dt id="pygeoc.raster.GDALDataType">
<code class="descclassname">pygeoc.raster.</code><code class="descname">GDALDataType</code><em class="property"> = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, 10: 10, 11: 11}</em><a class="headerlink" href="#pygeoc.raster.GDALDataType" title="永久链接至目标">¶</a></dt>
<dd><p><em>dict</em> – GDAL DataType</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="25%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">GDAL数据类型</th>
<th class="head">GDAL数据类型</th>
<th class="head">描述</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>GDT_Unknown</td>
<td>Unknown or unspecified type</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>GDT_Byte</td>
<td>Eight bit unsigned integer</td>
</tr>
<tr class="row-even"><td>2</td>
<td>GDT_UInt16</td>
<td>Sixteen bit unsigned integer</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>GDT_Int16</td>
<td>Sixteen bit signed integer</td>
</tr>
<tr class="row-even"><td>4</td>
<td>GDT_UInt32</td>
<td>Thirty two bit unsigned integer</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>GDT_Int32</td>
<td>Thirty two bit signed integer</td>
</tr>
<tr class="row-even"><td>6</td>
<td>GDT_Float32</td>
<td>Thirty two bit floating point</td>
</tr>
<tr class="row-odd"><td>7</td>
<td>GDT_Float64</td>
<td>Sixty four bit floating point</td>
</tr>
<tr class="row-even"><td>8</td>
<td>GDT_CInt16</td>
<td>Complex Int16</td>
</tr>
<tr class="row-odd"><td>9</td>
<td>GDT_CInt32</td>
<td>Complex Int32</td>
</tr>
<tr class="row-even"><td>10</td>
<td>GDT_CFloat32</td>
<td>Complex Float32</td>
</tr>
<tr class="row-odd"><td>11</td>
<td>GDT_CFloat64</td>
<td>Complex Float64</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pygeoc.raster.Raster">
<em class="property">class </em><code class="descclassname">pygeoc.raster.</code><code class="descname">Raster</code><span class="sig-paren">(</span><em>n_rows</em>, <em>n_cols</em>, <em>data</em>, <em>nodata_value=None</em>, <em>geotransform=None</em>, <em>srs=None</em>, <em>datatype=6</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.Raster" title="永久链接至目标">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Basic Raster Class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>n_rows</strong> – row count.</li>
<li><strong>n_cols</strong> – col count.</li>
<li><strong>data</strong> – 2D array data.</li>
<li><strong>nodata_value</strong> – NODATA value, None as default.</li>
<li><strong>geotransform</strong> – geographic transformation, None as default.</li>
<li><strong>srs</strong> – coordinate system, None as default.</li>
<li><strong>datatype</strong> (<a class="reference internal" href="#pygeoc.raster.GDALDataType" title="pygeoc.raster.GDALDataType"><code class="xref py py-obj docutils literal"><span class="pre">pygeoc.raster.GDALDataType</span></code></a>) – Raster datatype.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pygeoc.raster.Raster.nRows">
<code class="descname">nRows</code><a class="headerlink" href="#pygeoc.raster.Raster.nRows" title="永久链接至目标">¶</a></dt>
<dd><p><em>int</em> – Row number.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygeoc.raster.Raster.nCols">
<code class="descname">nCols</code><a class="headerlink" href="#pygeoc.raster.Raster.nCols" title="永久链接至目标">¶</a></dt>
<dd><p><em>int</em> – Column number.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygeoc.raster.Raster.data">
<code class="descname">data</code><a class="headerlink" href="#pygeoc.raster.Raster.data" title="永久链接至目标">¶</a></dt>
<dd><p><code class="xref py py-obj docutils literal"><span class="pre">numpy.array</span></code> – 2D array raster data.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygeoc.raster.Raster.noDataValue">
<code class="descname">noDataValue</code><a class="headerlink" href="#pygeoc.raster.Raster.noDataValue" title="永久链接至目标">¶</a></dt>
<dd><p><em>float</em> – NoData value.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygeoc.raster.Raster.geotrans">
<code class="descname">geotrans</code><a class="headerlink" href="#pygeoc.raster.Raster.geotrans" title="永久链接至目标">¶</a></dt>
<dd><p><em>list</em> – geographic transformation list.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygeoc.raster.Raster.srs">
<code class="descname">srs</code><a class="headerlink" href="#pygeoc.raster.Raster.srs" title="永久链接至目标">¶</a></dt>
<dd><p><code class="xref py py-obj docutils literal"><span class="pre">osgeo.osr.SpatialReference</span></code> – Spatial reference.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygeoc.raster.Raster.dataType">
<code class="descname">dataType</code><a class="headerlink" href="#pygeoc.raster.Raster.dataType" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="#pygeoc.raster.GDALDataType" title="pygeoc.raster.GDALDataType"><code class="xref py py-obj docutils literal"><span class="pre">pygeoc.raster.GDALDataType</span></code></a> – Raster datatype.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygeoc.raster.Raster.dx">
<code class="descname">dx</code><a class="headerlink" href="#pygeoc.raster.Raster.dx" title="永久链接至目标">¶</a></dt>
<dd><p><em>float</em> – cell size.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygeoc.raster.Raster.xMin">
<code class="descname">xMin</code><a class="headerlink" href="#pygeoc.raster.Raster.xMin" title="永久链接至目标">¶</a></dt>
<dd><p><em>float</em> – left X coordinate.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygeoc.raster.Raster.xMax">
<code class="descname">xMax</code><a class="headerlink" href="#pygeoc.raster.Raster.xMax" title="永久链接至目标">¶</a></dt>
<dd><p><em>float</em> – right X coordinate.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygeoc.raster.Raster.yMin">
<code class="descname">yMin</code><a class="headerlink" href="#pygeoc.raster.Raster.yMin" title="永久链接至目标">¶</a></dt>
<dd><p><em>float</em> – lower Y coordinate.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygeoc.raster.Raster.yMax">
<code class="descname">yMax</code><a class="headerlink" href="#pygeoc.raster.Raster.yMax" title="永久链接至目标">¶</a></dt>
<dd><p><em>float</em> – upper Y coordinate.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygeoc.raster.Raster.validZone">
<code class="descname">validZone</code><a class="headerlink" href="#pygeoc.raster.Raster.validZone" title="永久链接至目标">¶</a></dt>
<dd><p><code class="xref py py-obj docutils literal"><span class="pre">numpy.array</span></code> – 2D boolean array that NoDataValue is False.</p>
</dd></dl>

<dl class="attribute">
<dt id="pygeoc.raster.Raster.validValues">
<code class="descname">validValues</code><a class="headerlink" href="#pygeoc.raster.Raster.validValues" title="永久链接至目标">¶</a></dt>
<dd><p><code class="xref py py-obj docutils literal"><span class="pre">numpy.array</span></code> – 2D raster array with None in NoDataValue.</p>
</dd></dl>

<p class="rubric">Examples</p>
<p>The common usage is read raster data from a raster file (e.g., geotiff) and get the
Raster instance.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pygeoc.raster</span> <span class="k">import</span> <span class="n">RasterUtilClass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst_file</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;tests/data/Jamaica_dem.tif&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst_obj</span> <span class="o">=</span> <span class="n">RasterUtilClass</span><span class="o">.</span><span class="n">read_raster</span><span class="p">(</span><span class="n">rst_file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">rst_obj</span>
<span class="go">&lt;pygeoc.raster.Raster object at 0x...&gt;</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="#pygeoc.raster.RasterUtilClass.read_raster" title="pygeoc.raster.RasterUtilClass.read_raster"><code class="xref py py-func docutils literal"><span class="pre">pygeoc.raster.RasterUtilClass.read_raster()</span></code></a></p>
</div>
<dl class="method">
<dt id="pygeoc.raster.Raster.get_average">
<code class="descname">get_average</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.Raster.get_average" title="永久链接至目标">¶</a></dt>
<dd><p>Get average exclude NODATA.</p>
</dd></dl>

<dl class="method">
<dt id="pygeoc.raster.Raster.get_central_coors">
<code class="descname">get_central_coors</code><span class="sig-paren">(</span><em>row</em>, <em>col</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.Raster.get_central_coors" title="永久链接至目标">¶</a></dt>
<dd><p>Get the coordinates of central grid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>row</strong> – row number, range from 0 to (nRows - 1).</li>
<li><strong>col</strong> – col number, range from 0 to (nCols - 1).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">XY coordinates. If the row or col are invalid, raise ValueError.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pygeoc.raster.Raster.get_max">
<code class="descname">get_max</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.Raster.get_max" title="永久链接至目标">¶</a></dt>
<dd><p>Get maximum exclude NODATA.</p>
</dd></dl>

<dl class="method">
<dt id="pygeoc.raster.Raster.get_min">
<code class="descname">get_min</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.Raster.get_min" title="永久链接至目标">¶</a></dt>
<dd><p>Get minimum exclude NODATA.</p>
</dd></dl>

<dl class="method">
<dt id="pygeoc.raster.Raster.get_std">
<code class="descname">get_std</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.Raster.get_std" title="永久链接至目标">¶</a></dt>
<dd><p>Get Standard Deviation exclude NODATA.</p>
</dd></dl>

<dl class="method">
<dt id="pygeoc.raster.Raster.get_sum">
<code class="descname">get_sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.Raster.get_sum" title="永久链接至目标">¶</a></dt>
<dd><p>Get sum exclude NODATA.</p>
</dd></dl>

<dl class="method">
<dt id="pygeoc.raster.Raster.get_type">
<code class="descname">get_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.Raster.get_type" title="永久链接至目标">¶</a></dt>
<dd><p>get datatype as GDALDataType.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">返回:</th><td class="field-body">dataType</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><a class="reference internal" href="#pygeoc.raster.GDALDataType" title="pygeoc.raster.GDALDataType"><code class="xref py py-obj docutils literal"><span class="pre">pygeoc.raster.GDALDataType</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="pygeoc.raster.Raster.get_value_by_row_col">
<code class="descname">get_value_by_row_col</code><span class="sig-paren">(</span><em>row</em>, <em>col</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.Raster.get_value_by_row_col" title="永久链接至目标">¶</a></dt>
<dd><p>Get raster value by (row, col).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>row</strong> – row number.</li>
<li><strong>col</strong> – col number.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">raster value, None if the input are invalid.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pygeoc.raster.Raster.get_value_by_xy">
<code class="descname">get_value_by_xy</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.Raster.get_value_by_xy" title="永久链接至目标">¶</a></dt>
<dd><p>Get raster value by xy coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – X Coordinate.</li>
<li><strong>y</strong> – Y Coordinate.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">raster value, None if the input are invalid.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pygeoc.raster.RasterUtilClass">
<em class="property">class </em><code class="descclassname">pygeoc.raster.</code><code class="descname">RasterUtilClass</code><a class="headerlink" href="#pygeoc.raster.RasterUtilClass" title="永久链接至目标">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Utility function to handle raster data.</p>
<div class="admonition seealso">
<p class="first admonition-title">参见</p>
<p class="last"><code class="xref py py-class docutils literal"><span class="pre">pygeoc.raster.raster.Raster</span></code>.</p>
</div>
<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.closing">
<em class="property">static </em><code class="descname">closing</code><span class="sig-paren">(</span><em>input_rasterfilename</em>, <em>times</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.closing" title="永久链接至目标">¶</a></dt>
<dd><p>Do closing.</p>
<p>Closing: Dilate firstly, then Erode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>input_rasterfilename</strong> – input original raster image filename.</li>
<li><strong>times</strong> – Erode and Dilate times.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first">raster image after close.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><p class="first last">closing_raster</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.get_mask_from_raster">
<em class="property">static </em><code class="descname">get_mask_from_raster</code><span class="sig-paren">(</span><em>rasterfile</em>, <em>outmaskfile</em>, <em>keep_nodata=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.get_mask_from_raster" title="永久链接至目标">¶</a></dt>
<dd><p>Generate mask data from a given raster data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>rasterfile</strong> – raster file path.</li>
<li><strong>outmaskfile</strong> – output mask file path.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first last">Raster object of mask data.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.get_negative_dem">
<em class="property">static </em><code class="descname">get_negative_dem</code><span class="sig-paren">(</span><em>raw_dem</em>, <em>neg_dem</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.get_negative_dem" title="永久链接至目标">¶</a></dt>
<dd><p>Get negative DEM data.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.mask_raster">
<em class="property">static </em><code class="descname">mask_raster</code><span class="sig-paren">(</span><em>in_raster</em>, <em>mask</em>, <em>out_raster</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.mask_raster" title="永久链接至目标">¶</a></dt>
<dd><p>Mask raster data.
:param in_raster: list or one raster
:param mask: Mask raster data
:param out_raster: list or one raster</p>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.openning">
<em class="property">static </em><code class="descname">openning</code><span class="sig-paren">(</span><em>input_rasterfilename</em>, <em>times</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.openning" title="永久链接至目标">¶</a></dt>
<dd><p>Do openning.</p>
<p>Openning: Erode firstly, then Dilate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>input_rasterfilename</strong> – input original raster image filename.</li>
<li><strong>times</strong> – Erode and Dilate times.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first">raster image after open.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><p class="first last">openning_raster</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.raster_binarization">
<em class="property">static </em><code class="descname">raster_binarization</code><span class="sig-paren">(</span><em>given_value</em>, <em>rasterfilename</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.raster_binarization" title="永久链接至目标">¶</a></dt>
<dd><p>Make the raster into binarization.</p>
<p>The opening and closing are based on binary image. Therefore we need to
make the raster into binarization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>given_value</strong> – The given value’s pixels will be value in 1,</li>
<li><strong>pixels will be value in 0.</strong> (<em>other</em>) – </li>
<li><strong>rasterfilename</strong> – The initial rasterfilena,e.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first">Raster after binarization.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><p class="first last">binary_raster</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.raster_dilation">
<em class="property">static </em><code class="descname">raster_dilation</code><span class="sig-paren">(</span><em>rasterfile</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.raster_dilation" title="永久链接至目标">¶</a></dt>
<dd><p>Dilate the raster image.</p>
<blockquote>
<div>Find the max pixel’s value in 8-neighborhood. Then change the compute
pixel’s value into the max pixel’s value.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>rasterfile</strong> – input original raster image, type can be filename(string,</li>
<li><strong>&quot;test1.tif&quot;</strong><strong>)</strong><strong>, </strong><strong>rasterfile</strong> (<em>like</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first">raster image after dilation, type is numpy.ndarray.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><p class="first last">dilation_raster</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.raster_erosion">
<em class="property">static </em><code class="descname">raster_erosion</code><span class="sig-paren">(</span><em>rasterfile</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.raster_erosion" title="永久链接至目标">¶</a></dt>
<dd><p>Erode the raster image.</p>
<blockquote>
<div>Find the min pixel’s value in 8-neighborhood. Then change the compute
pixel’s value into the min pixel’s value.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first simple">
<li><strong>rasterfile</strong> – input original raster image, type can be filename(string,</li>
<li><strong>&quot;test1.tif&quot;</strong><strong>)</strong><strong>, </strong><strong>rasterfile</strong> (<em>like</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body"><p class="first">raster image after erosion, type is numpy.ndarray.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">返回类型:</th><td class="field-body"><p class="first last">erosion_raster</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.raster_reclassify">
<em class="property">static </em><code class="descname">raster_reclassify</code><span class="sig-paren">(</span><em>srcfile</em>, <em>v_dict</em>, <em>dstfile</em>, <em>gdaltype=6</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.raster_reclassify" title="永久链接至目标">¶</a></dt>
<dd><p>Reclassify raster by given classifier dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>srcfile</strong> – source raster file.</li>
<li><strong>v_dict</strong> – classifier dict.</li>
<li><strong>dstfile</strong> – destination file path.</li>
<li><strong>gdaltype</strong> (<a class="reference internal" href="#pygeoc.raster.GDALDataType" title="pygeoc.raster.GDALDataType"><code class="xref py py-obj docutils literal"><span class="pre">pygeoc.raster.GDALDataType</span></code></a>) – GDT_Float32 as default.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.raster_statistics">
<em class="property">static </em><code class="descname">raster_statistics</code><span class="sig-paren">(</span><em>raster_file</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.raster_statistics" title="永久链接至目标">¶</a></dt>
<dd><p>Get basic statistics of raster data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>raster_file</strong> – raster file path.</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">min, max, mean, std.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.raster_to_asc">
<em class="property">static </em><code class="descname">raster_to_asc</code><span class="sig-paren">(</span><em>raster_f</em>, <em>asc_f</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.raster_to_asc" title="永久链接至目标">¶</a></dt>
<dd><p>Converting Raster format to ASCII raster.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>raster_f</strong> – raster file.</li>
<li><strong>asc_f</strong> – output ASCII file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.raster_to_gtiff">
<em class="property">static </em><code class="descname">raster_to_gtiff</code><span class="sig-paren">(</span><em>tif</em>, <em>geotif</em>, <em>change_nodata=False</em>, <em>change_gdal_type=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.raster_to_gtiff" title="永久链接至目标">¶</a></dt>
<dd><p>Converting Raster format to GeoTIFF.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>tif</strong> – source raster file path.</li>
<li><strong>geotif</strong> – output raster file path.</li>
<li><strong>change_nodata</strong> – change NoDataValue to -9999 or not.</li>
<li><strong>gdal_type</strong> (<a class="reference internal" href="#pygeoc.raster.GDALDataType" title="pygeoc.raster.GDALDataType"><code class="xref py py-obj docutils literal"><span class="pre">pygeoc.raster.GDALDataType</span></code></a>) – GDT_Float32 as default.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.read_raster">
<em class="property">static </em><code class="descname">read_raster</code><span class="sig-paren">(</span><em>raster_file</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.read_raster" title="永久链接至目标">¶</a></dt>
<dd><p>Read raster by GDAL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><strong>raster_file</strong> – raster file path.</td>
</tr>
<tr class="field-even field"><th class="field-name">返回:</th><td class="field-body">Raster object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.split_raster">
<em class="property">static </em><code class="descname">split_raster</code><span class="sig-paren">(</span><em>rs</em>, <em>split_shp</em>, <em>field_name</em>, <em>temp_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.split_raster" title="永久链接至目标">¶</a></dt>
<dd><p>Split raster by given shapefile and field name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>rs</strong> – origin raster file.</li>
<li><strong>split_shp</strong> – boundary (ESRI Shapefile) used to spilt raster.</li>
<li><strong>field_name</strong> – field name identify the spilt value.</li>
<li><strong>temp_dir</strong> – directory to store the spilt rasters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.write_asc_file">
<em class="property">static </em><code class="descname">write_asc_file</code><span class="sig-paren">(</span><em>filename</em>, <em>data</em>, <em>xsize</em>, <em>ysize</em>, <em>geotransform</em>, <em>nodata_value</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.write_asc_file" title="永久链接至目标">¶</a></dt>
<dd><p>Output Raster to ASCII file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> – output ASCII filename.</li>
<li><strong>data</strong> – 2D array data.</li>
<li><strong>xsize</strong> – Col count.</li>
<li><strong>ysize</strong> – Row count.</li>
<li><strong>geotransform</strong> – geographic transformation.</li>
<li><strong>nodata_value</strong> – nodata_flow value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pygeoc.raster.RasterUtilClass.write_gtiff_file">
<em class="property">static </em><code class="descname">write_gtiff_file</code><span class="sig-paren">(</span><em>f_name</em>, <em>n_rows</em>, <em>n_cols</em>, <em>data</em>, <em>geotransform</em>, <em>srs</em>, <em>nodata_value</em>, <em>gdal_type=6</em><span class="sig-paren">)</span><a class="headerlink" href="#pygeoc.raster.RasterUtilClass.write_gtiff_file" title="永久链接至目标">¶</a></dt>
<dd><p>Output Raster to GeoTiff format file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">参数:</th><td class="field-body"><ul class="first last simple">
<li><strong>f_name</strong> – output gtiff file name.</li>
<li><strong>n_rows</strong> – Row count.</li>
<li><strong>n_cols</strong> – Col count.</li>
<li><strong>data</strong> – 2D array data.</li>
<li><strong>geotransform</strong> – geographic transformation.</li>
<li><strong>srs</strong> – coordinate system.</li>
<li><strong>nodata_value</strong> – nodata value.</li>
<li><strong>gdal_type</strong> (<a class="reference internal" href="#pygeoc.raster.GDALDataType" title="pygeoc.raster.GDALDataType"><code class="xref py py-obj docutils literal"><span class="pre">pygeoc.raster.GDALDataType</span></code></a>) – output raster data type,
GDT_Float32 as default.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pygeoc.hydro.html" class="btn btn-neutral float-right" title="pygeoc.hydro module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pygeoc.utils.html" class="btn btn-neutral" title="pygeoc.utils module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2017, Liangjun Zhu.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>